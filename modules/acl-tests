Files:
tests/test-file-has-acl.sh
tests/test-set-mode-acl.sh
tests/test-copy-acl.sh
tests/test-file-has-acl.c
tests/test-set-mode-acl.c
tests/test-copy-acl.c
tests/test-sameacls.c

Depends-on:
progname
read-file
unistd
xalloc

configure.ac:
AC_REQUIRE([gl_FUNC_ACL])
save_LIBS="$LIBS"
LIBS="$LIB_ACL $LIBS"
dnl Test for functions present on Linux, FreeBSD, MacOS X, IRIX, Tru64.
AC_CHECK_FUNCS([acl_get_file])
dnl Test for functions present on Solaris, Cygwin.
AC_CHECK_FUNCS([acl])
dnl Test for functions present on HP-UX.
AC_CHECK_FUNCS([getacl])
dnl Test for functions present on AIX.
AC_CHECK_FUNCS([aclx_get])
dnl Test for functions present on older AIX.
AC_CHECK_FUNCS([statacl])
LIBS="$save_LIBS"

Makefile.am:
TESTS += test-file-has-acl.sh test-set-mode-acl.sh test-copy-acl.sh
TESTS_ENVIRONMENT += EXEEXT='@EXEEXT@'
check_PROGRAMS += test-file-has-acl test-set-mode-acl test-copy-acl test-sameacls
test_file_has_acl_LDADD = $(LDADD) $(LIB_ACL)
test_set_mode_acl_LDADD = $(LDADD) $(LIB_ACL) @LIBINTL@
test_copy_acl_LDADD = $(LDADD) $(LIB_ACL) @LIBINTL@
test_sameacls_LDADD = $(LDADD) $(LIB_ACL) @LIBINTL@
